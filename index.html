<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Thinkly - Gamified learning</title>
  <style>
    /* Global */
    body {
      font-family: 'Segoe UI', sans-serif;
      margin: 0;
      background: linear-gradient(135deg, #e0f7fa, #e1bee7);
      display: flex;
      flex-direction: column;
      height: 100vh;
      overflow: hidden;
    }

    header {
      background: linear-gradient(90deg, #4a90e2, #357ABD);
      color: white;
      padding: 20px;
      text-align: center;
      flex-shrink: 0;
    }
    header h1 { margin: 0; font-size: 2.2em; }
    nav { margin-top: 10px; }
    nav button {
      padding: 10px 16px;
      margin: 5px;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      background: rgba(255, 255, 255, 0.2);
      color: white;
      backdrop-filter: blur(10px);
    }
    nav button:hover { background: rgba(255, 255, 255, 0.3); }

    /* Layout */
    .main {
      display: flex;
      flex: 1;
      overflow: hidden;
    }

    /* Sidebar */
    .sidebar {
      width: 280px;
      padding: 20px;
      background: rgba(255, 255, 255, 0.25);
      backdrop-filter: blur(15px);
      border-right: 1px solid rgba(255, 255, 255, 0.3);
      overflow-y: auto;
    }
    .sidebar h2 { font-size: 1.2em; margin-top: 0; }
    .sidebar select {
      width: 100%;
      padding: 10px;
      font-size: 1em;
      border-radius: 6px;
      border: none;
      margin-bottom: 15px;
    }
    .sidebar .subject-btn, .chapter-btn {
      display: block;
      width: 100%;
      margin: 8px 0;
      padding: 12px;
      border: none;
      border-radius: 8px;
      background: rgba(74, 144, 226, 0.8);
      color: white;
      cursor: pointer;
      text-align: left;
    }
    .sidebar .subject-btn:hover, .chapter-btn:hover {
      background: rgba(53, 122, 189, 0.9);
    }
    .status {
      font-size: 0.8em;
      display: block;
      margin-top: 2px;
    }
    .completed { color: #2e7d32; }
    .in-progress { color: #ef6c00; }

    /* Content area */
    .content {
      flex: 1;
      padding: 30px;
      overflow-y: auto;
      background: rgba(255, 255, 255, 0.5);
      backdrop-filter: blur(10px);
    }
    .content h3 { margin-top: 0; }
    .content img { margin: 20px 0; border-radius: 8px; max-width: 100%; }

    /* Quiz styles */
    .quiz-question { margin-top: 15px; text-align: left; padding: 10px; }
    .quiz-option { display: block; margin: 6px 0; cursor: pointer; }
    .quiz-btn {
      margin-top: 20px;
      padding: 10px 18px;
      border: none;
      border-radius: 8px;
      background: #28a745;
      color: white;
      font-size: 1em;
      cursor: pointer;
    }
    .quiz-btn:hover { background: #218838; }
    .result {
      margin-top: 20px;
      padding: 15px;
      border-radius: 10px;
      font-weight: bold;
    }
    .correct { background: #e6f9e6; border-left: 5px solid #2e7d32; }
    .wrong { background: #fdecea; border-left: 5px solid #c62828; }

    /* Dashboard */
    table { width: 100%; border-collapse: collapse; margin-top: 20px; background: white; border-radius: 8px; overflow: hidden; }
    th, td { padding: 10px; border: 1px solid #ddd; text-align: center; }
    th { background: #4a90e2; color: white; }
  </style>
</head>
<body>

<header>
  <h1>Thinkly üìò</h1>
  <p>Smart Learning for Class 9 & 10 CBSE Students</p>
  <nav>
    <button onclick="goHome()">üè† Home</button>
    <button onclick="showDashboard()">üìä Progress Dashboard</button>
  </nav>
</header>

<div class="main">
  <!-- Sidebar -->
  <div class="sidebar">
    <h2>Choose Class</h2>
    <select id="classSelect" onchange="showSubjects()">
      <option value="">-- Select Class --</option>
      <option value="9">Class 9</option>
      <option value="10">Class 10</option>
    </select>

    <div id="subjects"></div>
    <div id="chapters"></div>
  </div>

  <!-- Content -->
  <div class="content" id="chapterContent">
    <h3>Welcome üëã</h3>
    <p>Select a class, subject, and chapter from the left sidebar to get started!</p>
  </div>
</div>

<!-- Dashboard -->
<div class="content" id="dashboard" style="display:none;">
  <h2>üìä Your Progress Dashboard</h2>
  <div id="progressTable"></div>
</div>

<script>
  const syllabus = {
    9: {
      math: ["Number Systems", "Polynomials"],
      science: ["Matter in Our Surroundings", "Motion"]
    },
    10: { math: [], science: [] }
  };

  const notes = {
    "Number Systems": `
      <h3>Number Systems</h3>
      <p>The <b>number system</b> is the system of writing numbers using digits. It includes:</p>
      <ul>
        <li><b>Natural Numbers</b>: 1, 2, 3, ...</li>
        <li><b>Whole Numbers</b>: 0, 1, 2, 3, ...</li>
        <li><b>Integers</b>: -3, -2, -1, 0, 1, 2, 3, ...</li>
        <li><b>Rational Numbers</b>: Numbers that can be expressed as p/q.</li>
        <li><b>Irrational Numbers</b>: Cannot be expressed as p/q (e.g., ‚àö2, œÄ).</li>
        <li><b>Real Numbers</b>: Combination of rational & irrational numbers.</li>
      </ul>
      <img src="https://upload.wikimedia.org/wikipedia/commons/8/89/Real_number_line.svg" width="500">
      <p><i>Fig: Representation of Real Numbers on a Number Line</i></p>
    `,
    "Matter in Our Surroundings": `
      <h3>Matter in Our Surroundings</h3>
      <p>Matter is made up of particles and exists in <b>3 states</b>:</p>
      <ul>
        <li><b>Solid</b> ‚Äì definite shape & volume (e.g., ice).</li>
        <li><b>Liquid</b> ‚Äì definite volume but no fixed shape (e.g., water).</li>
        <li><b>Gas</b> ‚Äì no definite shape or volume (e.g., oxygen).</li>
      </ul>
      <img src="https://upload.wikimedia.org/wikipedia/commons/4/4c/Matter_states.png" width="500">
      <p><i>Fig: Molecules in Solids, Liquids, and Gases</i></p>
    `
  };

  const quizzes = {
    "Number Systems": [
      { q: "Which of these is an irrational number?", options: ["2", "3/4", "‚àö2", "0.25"], answer: 2, explanation: "‚àö2 is irrational because it cannot be expressed as a ratio of integers." }
    ],
    "Matter in Our Surroundings": [
      { q: "Which state of matter has fixed volume but no fixed shape?", options: ["Solid", "Liquid", "Gas", "Plasma"], answer: 1, explanation: "Liquids have definite volume but take the shape of the container." }
    ]
  };

  function getProgress() { return JSON.parse(localStorage.getItem("quizProgress") || "{}"); }
  function saveProgress(progress) { localStorage.setItem("quizProgress", JSON.stringify(progress)); }

  function goHome() {
    document.querySelector(".main").style.display = "flex";
    document.getElementById("dashboard").style.display = "none";
  }

  function showSubjects() {
    const selectedClass = document.getElementById("classSelect").value;
    let html = "";
    if (selectedClass) {
      html += `<button class="subject-btn" onclick="showChapters('math')">üìê Math</button>`;
      html += `<button class="subject-btn" onclick="showChapters('science')">üî¨ Science</button>`;
    }
    document.getElementById("subjects").innerHTML = html;
    document.getElementById("chapters").innerHTML = "";
  }

  function showChapters(subject) {
    const selectedClass = document.getElementById("classSelect").value;
    const chapters = syllabus[selectedClass][subject];
    const progress = getProgress();

    let html = "<h3>Chapters</h3>";
    chapters.forEach(ch => {
      let status = "";
      if (progress[ch]) {
        status = progress[ch].bestScore >= 80 ? `<span class="status completed">‚≠ê Completed</span>` : `<span class="status in-progress">üîÑ In Progress</span>`;
      }
      html += `<button class="chapter-btn" onclick="showChapterContent('${ch}')">${ch}</button>${status}`;
    });
    document.getElementById("chapters").innerHTML = html;
  }

  function showChapterContent(chapterName) {
    const contentDiv = document.getElementById("chapterContent");
    contentDiv.innerHTML = `
      ${notes[chapterName] || `<h3>${chapterName}</h3><p>üìñ Content coming soon.</p>`}
      <button class="quiz-btn" onclick="startQuiz('${chapterName}')">Take Quiz üìù</button>
      <div id="quiz"></div>
    `;
  }

  function startQuiz(chapterName) {
    const quizArea = document.getElementById("quiz");
    const questions = quizzes[chapterName] || [];
    if (questions.length === 0) { quizArea.innerHTML = "<p>No quiz available yet.</p>"; return; }

    let html = "<h4>Quiz</h4>";
    questions.forEach((q, i) => {
      html += `<div class="quiz-question"><p><b>Q${i+1}:</b> ${q.q}</p>`;
      q.options.forEach((opt, j) => {
        html += `<label class="quiz-option"><input type="radio" name="q${i}" value="${j}"> ${opt}</label>`;
      });
      html += "</div>";
    });
    html += `<button class="quiz-btn" onclick="submitQuiz('${chapterName}')">Submit Quiz</button>`;
    quizArea.innerHTML = html;
  }

  function submitQuiz(chapterName) {
    const questions = quizzes[chapterName] || [];
    let score = 0, feedback = "";

    questions.forEach((q, i) => {
      const selected = document.querySelector(`input[name="q${i}"]:checked`);
      const isCorrect = selected && parseInt(selected.value) === q.answer;
      if (isCorrect) score++;
      feedback += `<div class="quiz-question ${isCorrect ? 'correct' : 'wrong'}">
        <p><b>Q${i+1}:</b> ${q.q}</p>
        <p>Your Answer: ${selected ? q.options[selected.value] : "Not answered"}</p>
        <p>Correct Answer: ${q.options[q.answer]}</p>
        <p><i>Explanation: ${q.explanation}</i></p>
      </div>`;
    });

    const percent = Math.round((score / questions.length) * 100);
    const progress = getProgress();
    if (!progress[chapterName] || percent > progress[chapterName].bestScore) {
      progress[chapterName] = { bestScore: percent };
      saveProgress(progress);
    }

    document.getElementById("quiz").innerHTML = `
      <div class="result">You scored ${score}/${questions.length} (${percent}%).</div>
      ${feedback}
    `;
  }

  function showDashboard() {
    document.querySelector(".main").style.display = "none";
    document.getElementById("dashboard").style.display = "block";

    const progress = getProgress();
    let html = "<table><tr><th>Chapter</th><th>Best Score</th><th>Status</th></tr>";
    for (let chapter in progress) {
      const best = progress[chapter].bestScore;
      const status = best >= 80 ? "‚úÖ Completed" : "‚è≥ In Progress";
      html += `<tr><td>${chapter}</td><td>${best}%</td><td>${status}</td></tr>`;
    }
    html += "</table>";
    document.getElementById("progressTable").innerHTML = html || "<p>No progress yet. Start a quiz!</p>";
  }
</script>

</body>
</html>

