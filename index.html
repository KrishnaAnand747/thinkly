<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Thinkly - Learn Smarter</title>
  <style>
    body { font-family: 'Segoe UI', sans-serif; margin: 0; background: #f0f4f8; }
    header { background: linear-gradient(90deg, #4a90e2, #357ABD); color: white; padding: 20px; text-align: center; }
    header h1 { margin: 0; font-size: 2.5em; }
    nav { margin-top: 10px; }
    nav button { padding: 10px 16px; margin: 5px; border: none; border-radius: 6px; cursor: pointer; }
    .nav-btn { background: #ff9800; color: white; }
    .container { max-width: 900px; margin: 40px auto; text-align: center; padding: 20px; }
    select { padding: 10px; font-size: 1.2em; border-radius: 6px; margin-top: 15px; }
    .card-grid { display: flex; justify-content: center; flex-wrap: wrap; gap: 30px; margin-top: 40px; }
    .card { background: white; padding: 30px; border-radius: 12px; box-shadow: 0 4px 12px rgba(0,0,0,0.1); width: 200px; cursor: pointer; transition: transform 0.3s ease, box-shadow 0.3s ease; }
    .card:hover { transform: translateY(-5px); box-shadow: 0 8px 20px rgba(0,0,0,0.15); }
    .chapters { margin-top: 30px; }
    .chapter-btn { margin: 10px; padding: 12px 20px; border: none; border-radius: 8px; background: #4a90e2; color: white; cursor: pointer; }
    .chapter-btn:hover { background: #357ABD; }
    .chapter-content { margin-top: 30px; padding: 20px; background: white; border-radius: 12px; box-shadow: 0 4px 10px rgba(0,0,0,0.1); text-align: left; }
    .quiz-question { margin-top: 15px; text-align: left; padding: 10px; }
    .quiz-option { display: block; margin: 6px 0; cursor: pointer; }
    .quiz-btn { margin-top: 20px; padding: 10px 18px; border: none; border-radius: 8px; background: #28a745; color: white; font-size: 1em; cursor: pointer; }
    .quiz-btn:hover { background: #218838; }
    .result { margin-top: 20px; padding: 15px; border-radius: 10px; font-weight: bold; }
    .correct { background: #e6f9e6; border-left: 5px solid #2e7d32; }
    .wrong { background: #fdecea; border-left: 5px solid #c62828; }
    .status { font-size: 0.9em; margin-left: 8px; }
    .completed { color: green; font-weight: bold; }
    .in-progress { color: orange; font-weight: bold; }
    table { width: 100%; border-collapse: collapse; margin-top: 20px; background: white; }
    th, td { padding: 10px; border: 1px solid #ddd; text-align: center; }
    th { background: #4a90e2; color: white; }
  </style>
</head>
<body>

<header>
  <h1>Thinkly üìò</h1>
  <p>Smart Learning for Class 9 & 10 CBSE Students</p>
  <nav>
    <button class="nav-btn" onclick="goHome()">üè† Home</button>
    <button class="nav-btn" onclick="showDashboard()">üìä Progress Dashboard</button>
  </nav>
</header>

<div class="container" id="mainContent">
  <h2>Select Your Class</h2>
  <select id="classSelect" onchange="showSubjects()">
    <option value="">-- Choose Class --</option>
    <option value="9">Class 9</option>
    <option value="10">Class 10</option>
  </select>

  <div id="subjects" class="card-grid" style="display:none;">
    <div class="card" onclick="showChapters('math')"><h3>üìê Math</h3></div>
    <div class="card" onclick="showChapters('science')"><h3>üî¨ Science</h3></div>
  </div>

  <div id="chapters" class="chapters"></div>
  <div id="chapterContent" class="chapter-content" style="display:none;"></div>
</div>

<div class="container" id="dashboard" style="display:none;">
  <h2>üìä Your Progress Dashboard</h2>
  <div id="progressTable"></div>
</div>

<script>
  const syllabus = {
    9: {
      math: [
        "Number Systems",
        "Polynomials",
        "Coordinate Geometry",
        "Linear Equations in Two Variables",
        "Introduction to Euclid's Geometry",
        "Lines and Angles",
        "Triangles",
        "Quadrilaterals",
        "Circles",
        "Heron‚Äôs Formula",
        "Surface Areas and Volumes",
        "Statistics",
        "Probability"
      ],
      science: [
        "Matter in Our Surroundings",
        "Is Matter Around Us Pure?",
        "Atoms and Molecules",
        "Structure of the Atom",
        "Motion",
        "Force and Laws of Motion",
        "Gravitation",
        "Work and Energy",
        "Sound",
        "The Fundamental Unit of Life",
        "Tissues",
        "Diversity in the Living World",
        "Why Do We Fall Ill?",
        "Natural Resources",
        "Improvement in Food Resources"
      ]
    },
    10: { math: [], science: [] } // will fill later
  };

  const notes = {
    "Number Systems": `
      <h3>Number Systems</h3>
      <p>The <b>number system</b> is the system of writing numbers using digits. It includes:</p>
      <ul>
        <li><b>Natural Numbers</b>: 1, 2, 3, ...</li>
        <li><b>Whole Numbers</b>: 0, 1, 2, 3, ...</li>
        <li><b>Integers</b>: -3, -2, -1, 0, 1, 2, 3, ...</li>
        <li><b>Rational Numbers</b>: Numbers that can be expressed as p/q (e.g., 1/2, 3/4).</li>
        <li><b>Irrational Numbers</b>: Cannot be expressed as p/q (e.g., ‚àö2, œÄ).</li>
        <li><b>Real Numbers</b>: Combination of rational & irrational numbers.</li>
      </ul>
      <img src="https://upload.wikimedia.org/wikipedia/commons/8/89/Real_number_line.svg" 
           alt="Number Line Diagram" width="500">
      <p><i>Fig: Representation of Real Numbers on a Number Line</i></p>
    `,
    "Matter in Our Surroundings": `
      <h3>Matter in Our Surroundings</h3>
      <p>Matter is made up of particles and exists in <b>3 states</b>:</p>
      <ul>
        <li><b>Solid</b> ‚Äì definite shape & volume (e.g., ice).</li>
        <li><b>Liquid</b> ‚Äì definite volume but no fixed shape (e.g., water).</li>
        <li><b>Gas</b> ‚Äì no definite shape or volume (e.g., oxygen).</li>
      </ul>
      <p>Inter-particle space and force of attraction vary across these states.</p>
      <img src="https://upload.wikimedia.org/wikipedia/commons/4/4c/Matter_states.png" 
           alt="States of Matter Diagram" width="500">
      <p><i>Fig: Molecules in Solids, Liquids, and Gases</i></p>
    `
  };

  const quizzes = {
    "Number Systems": [
      { q: "Which of these is an irrational number?", options: ["2", "3/4", "‚àö2", "0.25"], answer: 2, explanation: "‚àö2 is irrational because it cannot be expressed as a ratio of integers." },
      { q: "Decimal expansion of 1/3 is?", options: ["Terminating", "Non-terminating recurring", "Irrational", "None"], answer: 1, explanation: "1/3 = 0.333... is non-terminating recurring." }
    ],
    "Matter in Our Surroundings": [
      { q: "Which state of matter has fixed volume but no fixed shape?", options: ["Solid", "Liquid", "Gas", "Plasma"], answer: 1, explanation: "Liquids have definite volume but take the shape of the container." }
    ]
  };

  // Progress Functions
  function getProgress() { return JSON.parse(localStorage.getItem("quizProgress") || "{}"); }
  function saveProgress(progress) { localStorage.setItem("quizProgress", JSON.stringify(progress)); }

  function goHome() {
    document.getElementById("mainContent").style.display = "block";
    document.getElementById("dashboard").style.display = "none";
  }

  function showSubjects() {
    document.getElementById("subjects").style.display = "flex";
    document.getElementById("chapters").innerHTML = "";
    document.getElementById("chapterContent").style.display = "none";
  }

  function showChapters(subject) {
    const selectedClass = document.getElementById("classSelect").value;
    const chapters = syllabus[selectedClass][subject];
    const progress = getProgress();

    let html = "<h2>Choose a Chapter</h2>";
    chapters.forEach(ch => {
      let status = "";
      if (progress[ch]) {
        status = progress[ch].bestScore >= 80 
          ? `<span class="status completed">‚≠ê Completed (${progress[ch].bestScore}%)</span>`
          : `<span class="status in-progress">üîÑ In Progress (${progress[ch].bestScore}%)</span>`;
      }
      html += `<button class="chapter-btn" onclick="showChapterContent('${ch}')">${ch}</button> ${status}<br>`;
    });

    document.getElementById("chapters").innerHTML = html;
    document.getElementById("chapterContent").style.display = "none";
  }

  function showChapterContent(chapterName) {
    const contentDiv = document.getElementById("chapterContent");
    contentDiv.style.display = "block";
    contentDiv.innerHTML = `
      ${notes[chapterName] || `<h3>${chapterName}</h3><p>üìñ Content coming soon.</p>`}
      <button class="quiz-btn" onclick="startQuiz('${chapterName}')">Take Quiz üìù</button>
      <div id="quiz"></div>
    `;
  }

  function startQuiz(chapterName) {
    const quizArea = document.getElementById("quiz");
    const questions = quizzes[chapterName] || [];
    if (questions.length === 0) {
      quizArea.innerHTML = "<p>No quiz available for this chapter yet.</p>";
      return;
    }

    let html = "<h4>Quiz</h4>";
    questions.forEach((q, i) => {
      html += `<div class="quiz-question"><p><b>Q${i+1}:</b> ${q.q}</p>`;
      q.options.forEach((opt, j) => {
        html += `<label class="quiz-option"><input type="radio" name="q${i}" value="${j}"> ${opt}</label>`;
      });
      html += "</div>";
    });
    html += `<button class="quiz-btn" onclick="submitQuiz('${chapterName}')">Submit Quiz</button>`;
    quizArea.innerHTML = html;
  }

  function submitQuiz(chapterName) {
    const questions = quizzes[chapterName] || [];
    let score = 0;
    let feedback = "";

    questions.forEach((q, i) => {
      const selected = document.querySelector(`input[name="q${i}"]:checked`);
      const isCorrect = selected && parseInt(selected.value) === q.answer;
      if (isCorrect) score++;

      feedback += `<div class="quiz-question ${isCorrect ? 'correct' : 'wrong'}">
        <p><b>Q${i+1}:</b> ${q.q}</p>
        <p>Your Answer: ${selected ? q.options[selected.value] : "Not answered"}</p>
        <p>Correct Answer: ${q.options[q.answer]}</p>
        <p><i>Explanation: ${q.explanation}</i></p>
      </div>`;
    });

    const percent = Math.round((score / questions.length) * 100);
    const progress = getProgress();
    if (!progress[chapterName] || percent > progress[chapterName].bestScore) {
      progress[chapterName] = { bestScore: percent };
      saveProgress(progress);
    }

    document.getElementById("quiz").innerHTML = `
      <div class="result">You scored ${score}/${questions.length} (${percent}%).</div>
      ${feedback}
      <button class="quiz-btn" onclick="startQuiz('${chapterName}')">Retry Quiz üîÑ</button>
    `;

    showChapters("math"); showChapters("science");
  }

  function showDashboard() {
    document.getElementById("mainContent").style.display = "none";
    document.getElementById("dashboard").style.display = "block";

    const progress = getProgress();
    let html = "<table><tr><th>Chapter</th><th>Best Score</th><th>Status</th></tr>";
    for (let chapter in progress) {
      const best = progress[chapter].bestScore;
      const status = best >= 80 ? "‚úÖ Completed" : "‚è≥ In Progress";
      html += `<tr><td>${chapter}</td><td>${best}%</td><td>${status}</td></tr>`;
    }
    html += "</table>";
    document.getElementById("progressTable").innerHTML = html || "<p>No progress yet. Start a quiz!</p>";
  }
</script>

</body>
</html>
